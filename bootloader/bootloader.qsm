.entry boot

::boot

~~ Check if bootloader lives in RAM or BROM
jrz zero(rel copyBootloaderToRam) rinp

::mainProgram
mov rssd zero

mov rled rinp

jpr zero(rel mainProgram)

::copyBootloaderToRam
mov rssd zero(-1)
mov r0 zero
::copyLoop
ld r1 r0

~~ Show current instruction
mov rled r1

st r0 r1
add r0 r0 zero(4)
sub r2 r0 zero(1024)
jrnz zero(rel copyLoop) r2

int r0 0
